"use strict";(self.webpackChunkreact_blog=self.webpackChunkreact_blog||[]).push([[3941],{13941:(n,e,o)=>{o.r(e),o.d(e,{default:()=>u});var t=o(9950),a=o(84020),r=o(73124),i=o(73879),s=o(5835),c=o(21393),l=o(44414);const m=["#ffffff","#ffffff","#ffffff"],d=n=>{3===(n=n.replace(/^#/,"")).length&&(n=n.split("").map(n=>n+n).join(""));const e=parseInt(n,16);return[(e>>16&255)/255,(e>>8&255)/255,(255&e)/255]},u=n=>{let{particleCount:e=200,particleSpread:o=10,speed:u=.1,particleColors:v,moveParticlesOnHover:f=!1,particleHoverFactor:p=1,alphaParticles:h=!1,particleBaseSize:g=100,sizeRandomness:x=1,cameraDistance:z=20,disableRotation:w=!1,className:y}=n;const M=(0,t.useRef)(null),P=(0,t.useRef)({x:0,y:0});return(0,t.useEffect)(()=>{const n=M.current;if(!n)return;const t=new a.A({depth:!1,alpha:!0}),l=t.gl;n.appendChild(l.canvas),l.clearColor(0,0,0,0);const y=new r.i(l,{fov:15});y.position.set(0,0,z);const S=()=>{const e=n.clientWidth,o=n.clientHeight;t.setSize(e,o),y.perspective({aspect:l.canvas.width/l.canvas.height})};window.addEventListener("resize",S,!1),S();const C=e=>{const o=n.getBoundingClientRect(),t=(e.clientX-o.left)/o.width*2-1,a=-((e.clientY-o.top)/o.height*2-1);P.current={x:t,y:a}};f&&n.addEventListener("mousemove",C);const R=e,A=new Float32Array(3*R),b=new Float32Array(4*R),F=new Float32Array(3*R),T=v&&v.length>0?v:m;for(let e=0;e<R;e++){let n,o,t,a;do{n=2*Math.random()-1,o=2*Math.random()-1,t=2*Math.random()-1,a=n*n+o*o+t*t}while(a>1||0===a);const r=Math.cbrt(Math.random());A.set([n*r,o*r,t*r],3*e),b.set([Math.random(),Math.random(),Math.random(),Math.random()],4*e);const i=d(T[Math.floor(Math.random()*T.length)]);F.set(i,3*e)}const _=new i.V(l,{position:{size:3,data:A},random:{size:4,data:b},color:{size:3,data:F}}),B=new s.B(l,{vertex:"\n  attribute vec3 position;\n  attribute vec4 random;\n  attribute vec3 color;\n\n  uniform mat4 modelMatrix;\n  uniform mat4 viewMatrix;\n  uniform mat4 projectionMatrix;\n  uniform float uTime;\n  uniform float uSpread;\n  uniform float uBaseSize;\n  uniform float uSizeRandomness;\n\n  varying vec4 vRandom;\n  varying vec3 vColor;\n\n  void main() {\n    vRandom = random;\n    vColor = color;\n\n    vec3 pos = position * uSpread;\n    pos.z *= 10.0;\n\n    vec4 mPos = modelMatrix * vec4(pos, 1.0);\n    float t = uTime;\n    mPos.x += sin(t * random.z + 6.28 * random.w) * mix(0.1, 1.5, random.x);\n    mPos.y += sin(t * random.y + 6.28 * random.x) * mix(0.1, 1.5, random.w);\n    mPos.z += sin(t * random.w + 6.28 * random.y) * mix(0.1, 1.5, random.z);\n\n    vec4 mvPos = viewMatrix * mPos;\n\n    if (uSizeRandomness == 0.0) {\n      gl_PointSize = uBaseSize;\n    } else {\n      gl_PointSize = (uBaseSize * (1.0 + uSizeRandomness * (random.x - 0.5))) / length(mvPos.xyz);\n    }\n\n    gl_Position = projectionMatrix * mvPos;\n  }\n",fragment:"\n  precision highp float;\n\n  uniform float uTime;\n  uniform float uAlphaParticles;\n  varying vec4 vRandom;\n  varying vec3 vColor;\n\n  void main() {\n    vec2 uv = gl_PointCoord.xy;\n    float d = length(uv - vec2(0.5));\n\n    if(uAlphaParticles < 0.5) {\n      if(d > 0.5) {\n        discard;\n      }\n      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), 1.0);\n    } else {\n      float circle = smoothstep(0.5, 0.4, d) * 0.8;\n      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), circle);\n    }\n  }\n",uniforms:{uTime:{value:0},uSpread:{value:o},uBaseSize:{value:g},uSizeRandomness:{value:x},uAlphaParticles:{value:h?1:0}},transparent:!0,depthTest:!1}),E=new c.e(l,{mode:l.POINTS,geometry:_,program:B});let j,k=performance.now(),L=0;const H=n=>{j=requestAnimationFrame(H);const e=n-k;k=n,L+=e*u,B.uniforms.uTime.value=.001*L,f?(E.position.x=-P.current.x*p,E.position.y=-P.current.y*p):(E.position.x=0,E.position.y=0),w||(E.rotation.x=.1*Math.sin(2e-4*L),E.rotation.y=.15*Math.cos(5e-4*L),E.rotation.z+=.01*u),t.render({scene:E,camera:y})};return j=requestAnimationFrame(H),()=>{window.removeEventListener("resize",S),f&&n.removeEventListener("mousemove",C),cancelAnimationFrame(j),n.contains(l.canvas)&&n.removeChild(l.canvas)}},[e,o,u,f,p,h,g,x,z,w]),(0,l.jsx)("div",{ref:M,className:"particles-container ".concat(y||"")})}}}]);